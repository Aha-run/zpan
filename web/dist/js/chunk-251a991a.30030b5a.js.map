{"version":3,"sources":["webpack:///./src/views/admin/users/index.vue?0fc1","webpack:///./src/views/admin/users/dialog-create.vue?d07f","webpack:///src/views/admin/users/dialog-create.vue","webpack:///./src/views/admin/users/dialog-create.vue?9e1e","webpack:///./src/views/admin/users/dialog-create.vue","webpack:///./src/views/admin/users/dialog-storage.vue?6d41","webpack:///src/views/admin/users/dialog-storage.vue","webpack:///./src/views/admin/users/dialog-storage.vue?1169","webpack:///./src/views/admin/users/dialog-storage.vue","webpack:///./src/views/admin/users/dialog-password.vue?d91c","webpack:///src/views/admin/users/dialog-password.vue","webpack:///./src/views/admin/users/dialog-password.vue?b6d1","webpack:///./src/views/admin/users/dialog-password.vue","webpack:///src/views/admin/users/index.vue","webpack:///./src/views/admin/users/index.vue?5621","webpack:///./src/views/admin/users/index.vue","webpack:///./src/helper.js","webpack:///./src/views/admin/users/index.vue?1382","webpack:///./src/libs/mixin/cs.js","webpack:///./src/libs/mixin/dialog.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","$t","on","listRefresh","model","value","query","callback","$$v","$set","expression","createUser","_v","_s","rows","scopedSlots","_u","key","fn","scope","row","status","storage","used","format","max","$event","onStatusSwitch","$index","cmd","onDropdownMenuClick","slot","pageNo","limit","total","staticRenderFns","title","visible","ref","form","rules","_l","item","label","unitValue","close","submit","mixins","props","data","validatePass","Error","validatePass2","roles","email","password","password2","utils","computed","units","methods","storage_max","Math","round","$zpan","User","signup","then","type","message","mounted","component","onSubmit","username","num","updateStorageByUser","passwordr","$refs","name","validate","valid","offset","list","ele","ENABLE","DISABLE","op","msg","tips","$confirm","confirmButtonText","cancelButtonText","command","onEditStorage","onEditPassword","onDelete","console","log","transfer","_constructor","Vue","extend","propsData","instance","i18n","store","router","$mount","document","createElement","Promise","resolve","reject","$once","Mixin","cs","watch","$route","newVal","oldVal","setCs","$store","state","storages","forEach","params","sname","getSid","id","DialogMixin","val","$destroy","body","appendChild","$el","destroyed","parentNode","removeChild","open","completed","$emit","finish"],"mappings":"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","file":"js/chunk-251a991a.30030b5a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"topbar\"},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"size\":\"medium\",\"placeholder\":_vm.$t('admin.search-placeholder'),\"prefix-icon\":\"el-icon-search\"},on:{\"change\":_vm.listRefresh},model:{value:(_vm.query.email),callback:function ($$v) {_vm.$set(_vm.query, \"email\", $$v)},expression:\"query.email\"}}),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":_vm.createUser}},[_vm._v(_vm._s(_vm.$t(\"admin.btn-user-add\")))])],1),_c('el-card',{staticStyle:{\"margin-top\":\"10px\",\"padding-bottom\":\"20px\"},attrs:{\"shadow\":\"never\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.rows,\"size\":\"medium\"}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"ID\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"profile.nickname\",\"label\":_vm.$t('admin.label-nickname'),\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":_vm.$t('admin.label-email')}}),_c('el-table-column',{attrs:{\"prop\":\"role\",\"label\":_vm.$t('admin.label-role'),\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":_vm.$t('admin.label-status'),\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status == '已激活')?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(_vm._s(scope.row.status))]):_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(_vm._s(scope.row.status))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"storage\",\"label\":_vm.$t('admin.label-storage'),\"width\":\"220\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.storage.used.format())+\" / \"+_vm._s(scope.row.storage.max.format()))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"operation\",\"label\":_vm.$t('admin.label-operation'),\"width\":\"280\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.onStatusSwitch(scope.$index, scope.row)}}},[_vm._v(_vm._s(_vm.$t((\"op.\" + (scope.row.status == \"已激活\" ? \"disable\" : \"enable\")))))]),_c('el-dropdown',{staticStyle:{\"margin-left\":\"10px\"},on:{\"command\":function (cmd) {\n                _vm.onDropdownMenuClick(cmd, scope.row);\n              }}},[_c('el-button',{attrs:{\"size\":\"mini\"}},[_vm._v(\"高级\"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"edit-storage\"}},[_vm._v(_vm._s(_vm.$t(\"admin.btn-quota-update\")))]),_c('el-dropdown-item',{attrs:{\"command\":\"reset-password\"}},[_vm._v(\"重置密码\")]),_c('el-dropdown-item',{attrs:{\"command\":\"remove\",\"divided\":\"\"}},[_vm._v(_vm._s(_vm.$t(\"op.delete\")))])],1)],1)]}}])})],1),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"layout\":\"prev, pager, next\",\"current-page\":_vm.pageNo,\"page-size\":_vm.query.limit,\"total\":_vm.total},on:{\"update:currentPage\":function($event){_vm.pageNo=$event},\"update:current-page\":function($event){_vm.pageNo=$event},\"current-change\":_vm.listRefresh}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.visible,\"width\":\"35%\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-form',{ref:\"form\",staticStyle:{\"width\":\"85%\"},attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"placeholder\":\"电子邮箱\",\"autofocus\":\"\"},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"role\",\"label\":\"角色\",\"label-width\":\"100px\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择用户角色\"},model:{value:(_vm.form.roles),callback:function ($$v) {_vm.$set(_vm.form, \"roles\", $$v)},expression:\"form.roles\"}},_vm._l((_vm.roles),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"prop\":\"storage\",\"label\":\"存储空间\",\"label-width\":\"100px\"}},[_c('el-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请设置存储配额\"},model:{value:(_vm.form.storage),callback:function ($$v) {_vm.$set(_vm.form, \"storage\", $$v)},expression:\"form.storage\"}},[_c('el-select',{staticStyle:{\"width\":\"80px\"},attrs:{\"slot\":\"append\",\"placeholder\":\"单位\"},slot:\"append\",model:{value:(_vm.unitValue),callback:function ($$v) {_vm.unitValue=$$v},expression:\"unitValue\"}},_vm._l((_vm.units),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1),_c('el-form-item',{attrs:{\"prop\":\"password\",\"label\":\"密码\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password2\",\"label\":\"密码确认\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码确认\"},model:{value:(_vm.form.password2),callback:function ($$v) {_vm.$set(_vm.form, \"password2\", $$v)},expression:\"form.password2\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":_vm.close}},[_vm._v(_vm._s(_vm.$t(\"op.cancel\")))]),_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(_vm._s(_vm.$t(\"op.confirm\")))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog :title=\"title\" :visible.sync=\"visible\" width=\"35%\">\n    <el-form :model=\"form\" :rules=\"rules\" ref=\"form\" style=\"width: 85%\">\n      <el-form-item prop=\"email\" label=\"邮箱\" label-width=\"100px\">\n        <el-input v-model=\"form.email\" placeholder=\"电子邮箱\" autofocus></el-input>\n      </el-form-item>\n      <el-form-item prop=\"role\" label=\"角色\" label-width=\"100px\">\n        <el-select v-model=\"form.roles\" placeholder=\"请选择用户角色\" style=\"width: 100%\">\n          <el-option v-for=\"item in roles\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"> </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item prop=\"storage\" label=\"存储空间\" label-width=\"100px\">\n        <el-input placeholder=\"请设置存储配额\" v-model=\"form.storage\" style=\"width: 100%\">\n          <el-select v-model=\"unitValue\" slot=\"append\" placeholder=\"单位\" style=\"width: 80px\">\n            <el-option v-for=\"item in units\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"> </el-option>\n          </el-select>\n        </el-input>\n      </el-form-item>\n      <el-form-item prop=\"password\" label=\"密码\" label-width=\"100px\">\n        <el-input type=\"password\" v-model=\"form.password\" placeholder=\"密码\"></el-input>\n      </el-form-item>\n      <el-form-item prop=\"password2\" label=\"密码确认\" label-width=\"100px\">\n        <el-input type=\"password\" v-model=\"form.password2\" placeholder=\"密码确认\"></el-input>\n      </el-form-item>\n    </el-form>\n\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button size=\"medium\" @click=\"close\">{{ $t(\"op.cancel\") }}</el-button>\n      <el-button size=\"medium\" type=\"primary\" @click=\"submit\">{{ $t(\"op.confirm\") }}</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport utils from \"@/libs/utils\";\nimport { DialogMixin } from \"@/libs/mixin\";\nexport default {\n  mixins: [DialogMixin],\n  props: {\n    title: { type: String, default: \"\" },\n  },\n  data() {\n    var validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      } else {\n        if (this.form.password2 !== \"\") {\n          this.$refs.form.validateField(\"password2\");\n        }\n        callback();\n      }\n    };\n    var validatePass2 = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请再次输入密码\"));\n      } else if (value !== this.form.password) {\n        callback(new Error(\"两次输入密码不一致!\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      roles: [\n        { label: \"管理员\", value: \"admin\" },\n        { label: \"注册用户\", value: \"member\" },\n      ],\n      rules: {\n        email: [\n          { required: true, message: \"请输入邮箱地址\", trigger: \"blur\" },\n          { type: \"email\", message: \"请输入正确的邮箱地址\", trigger: [\"blur\", \"change\"] },\n        ],\n        password: [{ validator: validatePass, trigger: \"blur\", required: true }],\n        password2: [{ validator: validatePass2, trigger: \"blur\", required: true }],\n      },\n      unitValue: utils.bytesUnits()[2].value,\n      form: {\n        roles: \"member\",\n        storage: 100,\n      },\n    };\n  },\n  computed: {\n    units() {\n      return utils.bytesUnits();\n    },\n  },\n  methods: {\n    submit() {\n      this.form.storage_max = Math.round(this.form.storage * this.unitValue);\n      this.$zpan.User.signup(this.form).then((ret) => {\n        this.finish();\n        this.$message({\n          type: \"success\",\n          message: this.$t(\"msg.save-success\"),\n        });\n      });\n    },\n  },\n  mounted() {},\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dialog-create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dialog-create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dialog-create.vue?vue&type=template&id=739ef994&\"\nimport script from \"./dialog-create.vue?vue&type=script&lang=js&\"\nexport * from \"./dialog-create.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.$t('admin.label-quota-change'),\"visible\":_vm.visible,\"width\":\"25%\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('admin.label-quota'),\"label-width\":\"110px\"}},[_c('el-input',{staticStyle:{\"width\":\"80%\"},attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.form.max.num),callback:function ($$v) {_vm.$set(_vm.form.max, \"num\", $$v)},expression:\"form.max.num\"}},[_c('el-select',{staticStyle:{\"width\":\"80px\"},attrs:{\"slot\":\"append\",\"placeholder\":\"单位\"},slot:\"append\",model:{value:(_vm.form.max.unitValue),callback:function ($$v) {_vm.$set(_vm.form.max, \"unitValue\", $$v)},expression:\"form.max.unitValue\"}},_vm._l((_vm.units),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":_vm.close}},[_vm._v(_vm._s(_vm.$t(\"op.cancel\")))]),_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(_vm._s(_vm.$t(\"op.confirm\")))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog :title=\"$t('admin.label-quota-change')\" :visible.sync=\"visible\" width=\"25%\">\n    <el-form :model=\"form\">\n      <el-form-item :label=\"$t('admin.label-quota')\" label-width=\"110px\">\n        <el-input placeholder=\"请输入内容\" v-model=\"form.max.num\" style=\"width: 80%\">\n          <el-select v-model=\"form.max.unitValue\" slot=\"append\" placeholder=\"单位\" style=\"width: 80px\">\n            <el-option v-for=\"item in units\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"> </el-option>\n          </el-select>\n        </el-input>\n      </el-form-item>\n    </el-form>\n\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button size=\"medium\" @click=\"close\">{{ $t(\"op.cancel\") }}</el-button>\n      <el-button size=\"medium\" type=\"primary\" @click=\"onSubmit\">{{ $t(\"op.confirm\") }}</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport utils from \"@/libs/utils\";\nimport { DialogMixin } from \"@/libs/mixin\";\nexport default {\n  mixins: [DialogMixin],\n  props: {\n    username: { type: String },\n    form: { type: Object },\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    units() {\n      return utils.bytesUnits();\n    },\n  },\n  methods: {\n    onSubmit() {\n      this.form.max = Math.round(this.form.max.num * this.form.max.unitValue);\n      this.$zpan.User.updateStorageByUser(this.username, this.form).then((ret) => {\n        this.finish();\n        this.$message({\n          type: \"success\",\n          message: this.$t(\"msg.save-success\"),\n        });\n      });\n    },\n  },\n  mounted() {},\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dialog-storage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dialog-storage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dialog-storage.vue?vue&type=template&id=ef6c3ca4&\"\nimport script from \"./dialog-storage.vue?vue&type=script&lang=js&\"\nexport * from \"./dialog-storage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.$t('admin.label-password-reset'),\"visible\":_vm.visible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-form',{ref:\"form\",staticClass:\"profile\",staticStyle:{\"width\":\"85%\"},attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"size\":\"medium\",\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"新密码\",\"prop\":\"new_password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码确认\",\"prop\":\"new_passwordr\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.form.passwordr),callback:function ($$v) {_vm.$set(_vm.form, \"passwordr\", $$v)},expression:\"form.passwordr\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"medium\"},on:{\"click\":_vm.close}},[_vm._v(_vm._s(_vm.$t(\"op.cancel\")))]),_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit('form')}}},[_vm._v(_vm._s(_vm.$t(\"op.confirm\")))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog :title=\"$t('admin.label-password-reset')\" :visible.sync=\"visible\" width=\"30%\">\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" size=\"medium\" label-width=\"100px\" class=\"profile\" style=\"width: 85%\">\n      <el-form-item label=\"新密码\" prop=\"new_password\">\n        <el-input v-model=\"form.password\" type=\"password\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"密码确认\" prop=\"new_passwordr\">\n        <el-input v-model=\"form.passwordr\" type=\"password\"></el-input>\n      </el-form-item>\n    </el-form>\n\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button size=\"medium\" @click=\"close\">{{ $t(\"op.cancel\") }}</el-button>\n      <el-button size=\"medium\" type=\"primary\" @click=\"submit('form')\">{{ $t(\"op.confirm\") }}</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport { DialogMixin } from \"@/libs/mixin\";\nexport default {\n  mixins: [DialogMixin],\n  props: {\n    username: { type: String },\n  },\n  data() {\n    var validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      } else {\n        if (this.form.new_passwordr !== \"\") {\n          this.$refs.form.validateField(\"new_passwordr\");\n        }\n        callback();\n      }\n    };\n    var validatePass2 = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请再次输入密码\"));\n      } else if (value !== this.form.new_password) {\n        callback(new Error(\"两次输入密码不一致!\"));\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      form: {},\n      rules: {\n        password: [{ trigger: \"blur\", required: true, validator: validatePass }],\n        passwordr: [{ trigger: \"blur\", required: true, validator: validatePass2 }],\n      },\n    };\n  },\n  methods: {\n    submit(name) {\n      this.$refs[name].validate((valid) => {\n        if (!valid) {\n          return;\n        }\n\n        this.$zpan.User.updatePasswordByUser(this.username, this.form).then((ret) => {\n          this.finish();\n          this.$message({\n            type: \"success\",\n            message: \"修改成功!\",\n          });\n        });\n      });\n    },\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dialog-password.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dialog-password.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dialog-password.vue?vue&type=template&id=6cc77d3d&\"\nimport script from \"./dialog-password.vue?vue&type=script&lang=js&\"\nexport * from \"./dialog-password.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"topbar\">\n      <el-input v-model=\"query.email\" @change=\"listRefresh\" size=\"medium\" :placeholder=\"$t('admin.search-placeholder')\" prefix-icon=\"el-icon-search\" style=\"width: 300px\"></el-input>\n      <el-button type=\"primary\" size=\"medium\" style=\"float: right\" @click=\"createUser\">{{ $t(\"admin.btn-user-add\") }}</el-button>\n    </div>\n\n    <el-card shadow=\"never\" style=\"margin-top: 10px; padding-bottom: 20px\">\n      <el-table :data=\"rows\" size=\"medium\" style=\"width: 100%\">\n        <el-table-column prop=\"id\" label=\"ID\" width=\"80\"> </el-table-column>\n        <el-table-column prop=\"profile.nickname\" :label=\"$t('admin.label-nickname')\" width=\"120\"> </el-table-column>\n        <el-table-column prop=\"email\" :label=\"$t('admin.label-email')\"> </el-table-column>\n        <el-table-column prop=\"role\" :label=\"$t('admin.label-role')\" width=\"100\"> </el-table-column>\n        <el-table-column prop=\"status\" :label=\"$t('admin.label-status')\" width=\"100\">\n          <template slot-scope=\"scope\">\n            <el-tag v-if=\"scope.row.status == '已激活'\" type=\"success\">{{ scope.row.status }}</el-tag>\n            <el-tag v-else type=\"info\">{{ scope.row.status }}</el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"storage\" :label=\"$t('admin.label-storage')\" width=\"220\">\n          <template slot-scope=\"scope\" width=\"120\">\n            <span>{{ scope.row.storage.used.format() }} / {{ scope.row.storage.max.format() }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"operation\" :label=\"$t('admin.label-operation')\" width=\"280\">\n          <template slot-scope=\"scope\">\n            <el-button size=\"mini\" @click=\"onStatusSwitch(scope.$index, scope.row)\">{{ $t(`op.${scope.row.status == \"已激活\" ? \"disable\" : \"enable\"}`) }}</el-button>\n            <el-dropdown\n              style=\"margin-left: 10px\"\n              @command=\"\n                (cmd) => {\n                  onDropdownMenuClick(cmd, scope.row);\n                }\n              \"\n            >\n              <el-button size=\"mini\">高级<i class=\"el-icon-arrow-down el-icon--right\"></i> </el-button>\n              <el-dropdown-menu slot=\"dropdown\">\n                <el-dropdown-item command=\"edit-storage\">{{ $t(\"admin.btn-quota-update\") }}</el-dropdown-item>\n                <el-dropdown-item command=\"reset-password\">重置密码</el-dropdown-item>\n                <el-dropdown-item command=\"remove\" divided>{{ $t(\"op.delete\") }}</el-dropdown-item>\n              </el-dropdown-menu>\n            </el-dropdown>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <div style=\"margin-top: 20px\">\n        <el-pagination layout=\"prev, pager, next\" :current-page.sync=\"pageNo\" :page-size=\"query.limit\" :total=\"total\" @current-change=\"listRefresh\" style=\"float: right\"> </el-pagination>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport utils from \"@/libs/utils\";\nimport { transfer } from \"@/helper\";\nimport DialogCreate from \"./dialog-create\";\nimport DialogStorage from \"./dialog-storage\";\nimport DialogPassword from \"./dialog-password\";\nexport default {\n  data() {\n    return {\n      query: {\n        email: \"\",\n        offset: 0,\n        limit: 20,\n      },\n      pageNo: 1,\n      rows: [],\n      total: 0,\n    };\n  },\n  methods: {\n    listRefresh() {\n      this.query.offset = (this.pageNo - 1) * this.query.limit;\n      this.$zpan.User.list(this.query).then((ret) => {\n        this.rows = ret.data.list.map((ele) => {\n          ele.storage.used = utils.formatBytes2(ele.storage.used);\n          ele.storage.max = utils.formatBytes2(ele.storage.max);\n          return ele;\n        });\n        this.total = ret.data.total;\n      });\n    },\n    createUser() {\n      transfer(DialogCreate)({ title: \"添加用户\" }).then((data) => {\n        this.listRefresh();\n      });\n    },\n    onStatusSwitch(index, row) {\n      const ENABLE = 1;\n      const DISABLE = 2;\n      let form = Object.assign({}, row);\n      let op = this.$t(\"op.enable\");\n      let msg = op + this.$t(\"msg.success\");\n      let tips = this.$t(\"tips.enable\");\n      if (row.status == \"已禁用\") {\n        form.status = ENABLE;\n      } else {\n        form.status = DISABLE;\n        op = this.$t(\"op.disable\");\n        msg = op + this.$t(\"msg.success\");\n        tips = this.$t(\"tips.disable\");\n      }\n\n      this.$confirm(tips, `${op} ${row.email}`, {\n        type: \"warning\",\n        confirmButtonText: this.$t(\"op.confirm\"),\n        cancelButtonText: this.$t(\"op.cancel\"),\n      }).then(() => {\n        this.$zpan.User.updateStatusByUser(row.username, form).then((ret) => {\n          this.$message({\n            type: \"success\",\n            message: msg,\n          });\n          this.listRefresh();\n        });\n      });\n    },\n    onDropdownMenuClick(command, row) {\n      switch (command) {\n        case \"edit-storage\":\n          this.onEditStorage(row);\n          break;\n        case \"reset-password\":\n          this.onEditPassword(row);\n          break;\n        case \"remove\":\n          this.onDelete(row);\n          break;\n        default:\n          break;\n      }\n      console.log(command);\n    },\n    onEditStorage(row) {\n      let form = Object.assign({}, row.storage);\n      let props = { username: row.username, form: form };\n      transfer(DialogStorage)(props).then(() => {\n        this.listRefresh();\n      });\n    },\n    onEditPassword(row) {\n      transfer(DialogPassword)({ username: row.username }).then((data) => {\n        this.listRefresh();\n      });\n    },\n    onDelete(row) {\n      this.$confirm(this.$t(\"tips.remove\"), this.$t(\"op.delete\") + ` ${row.email}`, {\n        type: \"warning\",\n        confirmButtonText: this.$t(\"op.confirm\"),\n        cancelButtonText: this.$t(\"op.cancel\"),\n      }).then(() => {\n        this.$zpan.User.delete(row.username).then((ret) => {\n          this.$message({\n            type: \"success\",\n            message: this.$t(\"msg.delete-success\"),\n          });\n          this.listRefresh();\n        });\n      });\n    },\n  },\n  mounted() {\n    this.listRefresh();\n  },\n};\n</script>\n\n<style>\n.topbar {\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3d54eaca&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport i18n from './i18n'\nimport store from './store'\nimport router from './router'\n\nexport const transfer = component => {\n    const _constructor = Vue.extend(component)\n    return function (propsData = {}) {\n        console.log(propsData)\n        let instance = new _constructor({ i18n, store, router, propsData }).$mount(document.createElement('div'))\n\n        return new Promise((resolve, reject) => {\n            instance.$once('completed', data => resolve(data))\n            instance.$once('cancel', data => reject(data))\n        })\n    }\n}","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","\nconst Mixin = {\n    data() {\n        return {\n            cs: {}\n        }\n    },\n    watch: {\n        $route(newVal, oldVal) {\n            this.setCs()\n        },\n    },\n    computed: {},\n    methods: {\n        setCs() {\n            this.$store.state.storages.forEach((ele) => {\n                if (ele.name == this.$route.params.sname) {\n                    this.cs = ele\n                }\n            });\n        },\n        getSid() {\n            return this.cs.id\n        },\n    },\n    mounted() {\n        this.setCs()\n    },\n}\n\nexport default Mixin","const DialogMixin = {\n    data() {\n        return {\n            visible: false\n        }\n    },\n    watch: {\n        visible(val) {\n            !val && this.$destroy()\n        }\n    },\n    mounted() {\n        document.body.appendChild(this.$el)\n        this.visible = true\n    },\n    destroyed() {\n        this.$el.parentNode.removeChild(this.$el)\n    },\n    methods: {\n        open() {\n            this.visible = true;\n        },\n        close() {\n            this.visible = false;\n        },\n        completed() {\n            this.$emit('completed');\n        },\n        finish() {\n            this.close();\n            this.completed();\n        },\n    }\n}\n\nexport default DialogMixin"],"sourceRoot":""}