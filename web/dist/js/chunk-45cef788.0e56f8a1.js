(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45cef788"],{"0b47":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-header",[i("div",{staticClass:"logo"},[i("img",{attrs:{src:n("cf05"),alt:"ZPan"},on:{click:function(e){return t.$router.push("/")}}})]),t.showMenu?i("el-menu",{staticClass:"navbar",staticStyle:{width:"100%"},attrs:{"default-active":t.menuActive,mode:"horizontal",router:""}},[t._l(t.menus.slice(0,5),(function(e,n){return i("el-menu-item",{key:n,attrs:{index:"/"+e.name}},[t._v(t._s(e.title))])})),i("el-submenu",{directives:[{name:"show",rawName:"v-show",value:t.menus.length>5,expression:"menus.length > 5"}],attrs:{index:"more"}},[i("template",{slot:"title"},[t._v("更多")]),t._l(t.menus.slice(5),(function(e,n){return i("el-menu-item",{key:n,attrs:{index:e.path}},[t._v(t._s(e.title))])}))],2)],2):t._e(),i("div",{staticStyle:{position:"absolute",right:"20px"}},[i("el-dropdown",{directives:[{name:"show",rawName:"v-show",value:t.logined,expression:"logined"}],attrs:{trigger:"click"},on:{command:t.onDropdown,"visible-change":t.onVisible}},[i("el-avatar",{staticStyle:{"vertical-align":"middle","margin-right":"4px"},attrs:{size:30,src:t.profile.avatar}}),i("span",[t._v(t._s(t.profile.nickname))]),i("el-dropdown-menu",{staticStyle:{width:"200px"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("div",{staticStyle:{margin:"auto 20px"}},[i("el-row",{staticStyle:{"text-align":"center",margin:"10px 0"}},[i("el-avatar",{attrs:{size:50,src:t.profile.avatar}})],1),i("el-row",{staticClass:"storage"},[i("p",[i("span",{},[t._v(t._s(t.$t("leftnav.storage")))]),i("span",{staticStyle:{float:"right"}},[t._v(t._s(t.storage.percentage)+"%")])]),i("el-progress",{attrs:{percentage:t.storage.percentage,"show-text":!1}}),i("p",{staticStyle:{color:"rgba(0, 0, 0, 0.54)","font-size":"0.75rem"}},[t._v(t._s(t.storage.used)+"/"+t._s(t.storage.max))])],1)],1),i("el-dropdown-item",{attrs:{icon:"el-icon-setting",command:"profile",divided:""}},[t._v(t._s(t.$t("topbar.settings")))]),i("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:t.showAdmin,expression:"showAdmin"}],attrs:{icon:"el-icon-set-up",command:"admin"}},[t._v(t._s(t.$t("topbar.s-platform")))]),i("el-dropdown-item",{attrs:{icon:"el-icon-switch-button",command:"signout"}},[t._v(t._s(t.$t("topbar.signout")))])],1)],1)],1)],1)},o=[],s=n("9225"),r=n("90fe"),a=n("a78e"),c=n.n(a),u="https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",l={props:{menus:Array,logined:Boolean},data:function(){return{storage:{percentage:0},user:{},profile:{}}},watch:{$route:"onRouteChange",locale:function(t){Object(s["b"])(t)}},computed:{showMenu:function(){return this.menus&&this.menus.length>0},showAdmin:function(){return"admin"==c.a.get("z-role")},menuActive:function(){return"/".concat(this.$route.params.sname)}},methods:{onRouteChange:function(t,e){this.logined&&this.userInfo()},userInfo:function(){var t=this;this.$zpan.User.profileGet().then((function(e){t.user=e.data,t.profile=t.user.profile,""==t.profile.avatar&&(t.profile.avatar=u),t.profile.locale&&(t.$i18n.locale=t.profile.locale),t.storage={used:r["a"].formatBytes(t.user.storage.used,0),max:r["a"].formatBytes(t.user.storage.max,0),percentage:Math.round(t.user.storage.used/t.user.storage.max*1e4)/100}}))},onDropdown:function(t){this.$router.push({name:t})},onVisible:function(t){t&&this.userInfo()}},mounted:function(){this.logined&&this.userInfo()}},f=l,p=(n("a0b4"),n("2877")),d=Object(p["a"])(f,i,o,!1,null,null,null);e["a"]=d.exports},2593:function(t,e,n){},"7abe":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("Topbar",{attrs:{menus:t.$store.state.storages,logined:""}}),n("el-container",{staticStyle:{height:"100%"}},[n("el-aside",{staticStyle:{height:"100%","background-color":"#f4f4f5"},attrs:{width:"200px"}},[n("el-menu",{attrs:{"default-active":t.leftMenuActive,"background-color":"#f4f4f5",router:""}},t._l(t.leftMenus,(function(e){return n("el-menu-item",{key:e.path,attrs:{index:e.path}},[n("i",{class:e.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])})),1)],1),n("el-main",[n("router-view")],1)],1)],1)},o=[],s=(n("7f7f"),n("a026")),r=n("c0d6"),a=n("41cb"),c=n("0b47"),u=n("ebbf"),l={mixins:[u["a"]],components:{Topbar:c["a"]},beforeRouteEnter:function(t,e,n){s["default"].zpan.Storage.list().then((function(e){var i=e.data.list;0!=i.length?"/"!=t.path?(r["a"].commit("storages",i),n()):a["a"].push({path:"/".concat(i[0].name)}):n({name:"storages"})}))},data:function(){return{}},computed:{currentBucket:function(){return this.$route.params.sname},leftMenuActive:function(){return this.$route.fullPath},leftMenus:function(){var t=[{path:"/".concat(this.currentBucket),icon:"el-icon-document",title:this.$t("leftnav.files")},{path:"/".concat(this.currentBucket,"?type=doc"),icon:"el-icon-xx",title:this.$t("leftnav.doc")},{path:"/".concat(this.currentBucket,"/pic"),icon:"el-icon-xx",title:this.$t("leftnav.image")},{path:"/".concat(this.currentBucket,"?type=audio"),icon:"el-icon-xx",title:this.$t("leftnav.audio")},{path:"/".concat(this.currentBucket,"?type=video"),icon:"el-icon-xx",title:this.$t("leftnav.video")}];if(1==this.cs.mode){var e=[{path:"/".concat(this.currentBucket,"/share"),icon:"el-icon-share",title:this.$t("leftnav.share")},{path:"/".concat(this.currentBucket,"/recyclebin"),icon:"el-icon-delete",title:this.$t("leftnav.recyclebin")}];t.push.apply(t,e)}return t}},watch:{$route:function(t,e){}},methods:{},mounted:function(){}},f=l,p=(n("95c0"),n("2877")),d=Object(p["a"])(f,i,o,!1,null,"43fd32d2",null);e["default"]=d.exports},"95c0":function(t,e,n){"use strict";n("2593")},9884:function(t,e,n){},a0b4:function(t,e,n){"use strict";n("9884")},a78e:function(t,e,n){var i,o;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(s){var r;if(i=s,o="function"===typeof i?i.call(e,n,e,t):i,void 0===o||(t.exports=o),r=!0,t.exports=s(),r=!0,!r){var a=window.Cookies,c=window.Cookies=s();c.noConflict=function(){return window.Cookies=a,c}}})((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(i){function o(){}function s(e,n,s){if("undefined"!==typeof document){s=t({path:"/"},o.defaults,s),"number"===typeof s.expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var r=JSON.stringify(n);/^[\{\[]/.test(r)&&(n=r)}catch(u){}n=i.write?i.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in s)s[c]&&(a+="; "+c,!0!==s[c]&&(a+="="+s[c].split(";")[0]));return document.cookie=e+"="+n+a}}function r(t,n){if("undefined"!==typeof document){for(var o={},s=document.cookie?document.cookie.split("; "):[],r=0;r<s.length;r++){var a=s[r].split("="),c=a.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=e(a[0]);if(c=(i.read||i)(c,u)||e(c),n)try{c=JSON.parse(c)}catch(l){}if(o[u]=c,t===u)break}catch(l){}}return t?o[t]:o}}return o.set=s,o.get=function(t){return r(t,!1)},o.getJSON=function(t){return r(t,!0)},o.remove=function(e,n){s(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}return n((function(){}))}))},cf05:function(t,e){t.exports="data:image/png;base64,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"},ebbf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}));n("7f7f"),n("ac6a");var i={data:function(){return{cs:{}}},watch:{$route:function(t,e){this.setCs()}},computed:{},methods:{setCs:function(){var t=this;this.$store.state.storages.forEach((function(e){e.name==t.$route.params.sname&&(t.cs=e)}))},getSid:function(){return this.cs.id}},mounted:function(){this.setCs()}},o=i,s={data:function(){return{visible:!1}},watch:{visible:function(t){!t&&this.$destroy()}},mounted:function(){document.body.appendChild(this.$el),this.visible=!0},destroyed:function(){this.$el.parentNode.removeChild(this.$el)},methods:{open:function(){this.visible=!0},close:function(){this.visible=!1},completed:function(){this.$emit("completed")},finish:function(){this.close(),this.completed()}}},r=s}}]);
//# sourceMappingURL=chunk-45cef788.0e56f8a1.js.map