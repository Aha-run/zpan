(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01979aab"],{"0b47":function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-header",[n("div",{staticClass:"logo"},[n("img",{attrs:{src:s("cf05"),alt:"ZPan"},on:{click:function(t){return e.$router.push("/")}}})]),e.showMenu?n("el-menu",{staticClass:"navbar",staticStyle:{width:"100%"},attrs:{"default-active":e.menuActive,mode:"horizontal",router:""}},[e._l(e.menus.slice(0,5),(function(t,s){return n("el-menu-item",{key:s,attrs:{index:"/"+t.name}},[e._v(e._s(t.title))])})),n("el-submenu",{directives:[{name:"show",rawName:"v-show",value:e.menus.length>5,expression:"menus.length > 5"}],attrs:{index:"more"}},[n("template",{slot:"title"},[e._v("更多")]),e._l(e.menus.slice(5),(function(t,s){return n("el-menu-item",{key:s,attrs:{index:t.path}},[e._v(e._s(t.title))])}))],2)],2):e._e(),n("div",{staticStyle:{position:"absolute",right:"20px"}},[n("el-dropdown",{directives:[{name:"show",rawName:"v-show",value:e.logined,expression:"logined"}],attrs:{trigger:"click"},on:{command:e.onDropdown,"visible-change":e.onVisible}},[n("el-avatar",{staticStyle:{"vertical-align":"middle","margin-right":"4px"},attrs:{size:30,src:e.profile.avatar}}),n("span",[e._v(e._s(e.profile.nickname))]),n("el-dropdown-menu",{staticStyle:{width:"200px"},attrs:{slot:"dropdown"},slot:"dropdown"},[n("div",{staticStyle:{margin:"auto 20px"}},[n("el-row",{staticStyle:{"text-align":"center",margin:"10px 0"}},[n("el-avatar",{attrs:{size:50,src:e.profile.avatar}})],1),n("el-row",{staticClass:"storage"},[n("p",[n("span",{},[e._v(e._s(e.$t("leftnav.storage")))]),n("span",{staticStyle:{float:"right"}},[e._v(e._s(e.storage.percentage)+"%")])]),n("el-progress",{attrs:{percentage:e.storage.percentage,"show-text":!1}}),n("p",{staticStyle:{color:"rgba(0, 0, 0, 0.54)","font-size":"0.75rem"}},[e._v(e._s(e.storage.used)+"/"+e._s(e.storage.max))])],1)],1),n("el-dropdown-item",{attrs:{icon:"el-icon-setting",command:"profile",divided:""}},[e._v(e._s(e.$t("topbar.settings")))]),n("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:e.showAdmin,expression:"showAdmin"}],attrs:{icon:"el-icon-set-up",command:"admin"}},[e._v(e._s(e.$t("topbar.s-platform")))]),n("el-dropdown-item",{attrs:{icon:"el-icon-switch-button",command:"signout"}},[e._v(e._s(e.$t("topbar.signout")))])],1)],1)],1)],1)},i=[],r=s("9225"),a=s("90fe"),o=s("852e"),l=s.n(o);const u="https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png";var c={props:{menus:Array,logined:Boolean},data(){return{storage:{percentage:0},user:{},profile:{}}},watch:{$route:"onRouteChange",locale(e){Object(r["b"])(e)}},computed:{showMenu(){return this.menus&&this.menus.length>0},showAdmin(){return"admin"==l.a.get("z-role")},menuActive(){return"/"+this.$route.params.sname}},methods:{onRouteChange(e,t){this.logined&&this.userInfo()},userInfo(){this.$zpan.User.profileGet().then(e=>{this.user=e.data,this.profile=this.user.profile,""==this.profile.avatar&&(this.profile.avatar=u),this.profile.locale&&(this.$i18n.locale=this.profile.locale),this.storage={used:a["a"].formatBytes(this.user.storage.used,0),max:a["a"].formatBytes(this.user.storage.max,0),percentage:Math.round(this.user.storage.used/this.user.storage.max*1e4)/100}})},onDropdown(e){this.$router.push({name:e})},onVisible(e){e&&this.userInfo()}},mounted(){this.logined&&this.userInfo()}},d=c,p=(s("a0b4"),s("2877")),m=Object(p["a"])(d,n,i,!1,null,null,null);t["a"]=m.exports},2953:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("Topbar",{attrs:{logined:""}}),s("el-container",{staticStyle:{height:"100%"}},[s("el-aside",{staticStyle:{height:"100%","background-color":"#f4f4f5"},attrs:{width:"200px"}},[s("el-menu",{attrs:{"default-active":e.routeFullPath,"background-color":"#f4f4f5",router:""}},[s("el-menu-item",{attrs:{index:"/admin/dashboard"}},[s("i",{staticClass:"el-icon-s-home"}),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("首页")])]),s("el-menu-item",{attrs:{index:"/admin/storages"}},[s("i",{staticClass:"el-icon-files"}),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("存储管理")])]),s("el-menu-item",{attrs:{index:"/admin/users"}},[s("i",{staticClass:"el-icon-user"}),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("用户管理")])]),s("el-submenu",{attrs:{index:"/admin/settings"}},[s("template",{slot:"title"},[s("i",{staticClass:"el-icon-files"}),s("span",[e._v("系统设置")])]),s("el-menu-item",{attrs:{index:"/admin/settings"}},[e._v("站点设置")]),s("el-menu-item",{attrs:{index:"/admin/settings/email"}},[e._v("发信邮箱")])],2)],1)],1),s("el-main",[s("router-view")],1)],1)],1)},i=[],r=s("0b47"),a={components:{Topbar:r["a"]},data(){return{routeFullPath:"disk"}},watch:{$route(e,t){this.routeFullPath=e.fullPath}},mounted(){this.routeFullPath=this.$route.fullPath}},o=a,l=(s("c71b"),s("2877")),u=Object(l["a"])(o,n,i,!1,null,"1df4bb25",null);t["default"]=u.exports},"852e":function(e,t,s){(function(t,s){e.exports=s()})(0,(function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)e[n]=s[n]}return e}var t={read:function(e){return e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function s(n,i){function r(t,s,r){if("undefined"!==typeof document){r=e({},i,r),"number"===typeof r.expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),s=n.write(s,t);var a="";for(var o in r)r[o]&&(a+="; "+o,!0!==r[o]&&(a+="="+r[o].split(";")[0]));return document.cookie=t+"="+s+a}}function a(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var s=document.cookie?document.cookie.split("; "):[],i={},r=0;r<s.length;r++){var a=s[r].split("="),o=a.slice(1).join("=");'"'===o[0]&&(o=o.slice(1,-1));try{var l=t.read(a[0]);if(i[l]=n.read(o,l),e===l)break}catch(u){}}return e?i[e]:i}}return Object.create({set:r,get:a,remove:function(t,s){r(t,"",e({},s,{expires:-1}))},withAttributes:function(t){return s(this.converter,e({},this.attributes,t))},withConverter:function(t){return s(e({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(n)}})}var n=s(t,{path:"/"});return n}))},9884:function(e,t,s){},a0b4:function(e,t,s){"use strict";s("9884")},aa05:function(e,t,s){},c71b:function(e,t,s){"use strict";s("aa05")},cf05:function(e,t){e.exports="data:image/png;base64,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"}}]);